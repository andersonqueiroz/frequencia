{% load timedelta_filter %}

<table>
	<tr>
		<th>Dia</th>
		<th>Registros</th>
		<th>Horas trabalhadas</th>
	</tr>
	{% for dia in object_list %}
	<tr>
	  	<td>{{dia.dia|date:"d-m-Y | l"}}</td>	  
	  	{% if dia.registros %}
	  		<td>
			  	{% for registro in dia.registros %}	  		
			  		{{registro.created_at|date:"H:i:s"}} {% if registro.tipo %}<br>{% else %} - {% endif %}	  		
			  	{% endfor %}
		  	</td>
		{% else %}
			<td>Nenhum registro</td>			
		{% endif %}

		{% if dia.feriado %}
			<td>{{ dia.feriado.1 }}</td>
		{% elif dia.ausencia %}
			<td>Falta justificada</td>
		{% else %}
			<td>{{ dia.horas_trabalhadas|timedelta:"{hours2}:{minutes2}:{seconds2}" }}</td>			
		{% endif %}
	</tr>
	{% endfor %}
</table>
